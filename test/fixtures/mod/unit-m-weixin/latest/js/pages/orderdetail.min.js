define("unit-m-weixin@latest/js/modules/orderdetail/orderinfo/controller",["marionette@~1.4.0","./view","../../../entities/orderdetail","wepp@~2.7.0","./template.html"],function(e,t,i){var n=(e("marionette"),e("./view"),e("../../../entities/orderdetail")),r=e("wepp"),a=r.Module.City,o=r.Module.BaseController.extend({initModel:function(e){return new n({cityid:a.getId,orderid:e})},initTpl:function(){return e("./template.html")}});i.exports=o},{asyncDeps:["iscroll@~5.0.9"]}),define("unit-m-weixin@latest/js/modules/orderdetail/layout.html",[],function(e,t,i){i.exports='<div class="J_ordercontent"></div>'},{asyncDeps:["iscroll@~5.0.9"]}),define("unit-m-weixin@latest/js/modules/orderdetail/orderinfo/view",["marionette@~1.4.0","underscore@~1.5.0","../../../util/cache","zepto-wepp@~1.1.0","backbone@~1.1.0","./template.html"],function(e,t,i){var n=e("marionette"),r=e("underscore"),a=e("../../../util/cache"),o=e("zepto-wepp"),l=e("backbone"),s=new l.Router;i.exports=n.ItemView.extend({template:r.template(e("./template.html")),events:{"click .J_refund":"applyRefund"},applyRefund:function(e){e.preventDefault();var t=o(e.currentTarget);a.set("refundTitle",t.attr("data-title")),s.navigate("refund~"+t.attr("data-id"),!0)}})},{asyncDeps:["iscroll@~5.0.9"]}),define("unit-m-weixin@latest/js/entities/orderdetail",["backbone@~1.1.0"],function(e,t,i){var n=e("backbone"),r=n.Model.extend({parse:function(e){e.data.time&&(e.data.time=this._parseTime(e.data.time)),e.data.refund=e.data.relativeDeal?e.data.relativeDeal.refund:!1;var t=e.data.extra||[];return t.length&&(t=t.map(function(e){return e.id})),e.data.lotteryNumbers=t.join(","),e.data},url:function(){return"/ajax/tuan/ordergn.json?orderid="+this.get("orderid")},_parseTime:function(e){var t=new Date(e);return t.getFullYear()+"-"+this._fix(t.getMonth()+1)+"-"+t.getDate()+" "+this._fix(t.getHours())+":"+this._fix(t.getMinutes())},_fix:function(e){var t="0"+e;return t.substr(t.length-2)}});i.exports=r},{asyncDeps:["iscroll@~5.0.9"]}),define("unit-m-weixin@latest/js/modules/orderdetail/orderinfo/template.html",[],function(e,t,i){i.exports='<div class="c-box-tit">订单信息</div><div class="c-box"><a class="item" href="#detail~<%=relativeDeal.id%>">团购项目<span class="Right order-detail-tit"><%=title%></span><i class="arrow-ent"></i></a><div class="item">总价<span class="Right">¥<%=priceStr%></span></div><div class="item">购买数量<span class="Right"><%=count%></span></div></div><div class="c-box"><div class="item">订单编号<span class="Right"><%=id%></span> </div><div class="item">下单时间<span class="Right"><%=time%></span></div><div class="item">订单状态<span class="Right"><%=statusMemo%></span></div></div><div class="height-box"></div>'},{asyncDeps:["iscroll@~5.0.9"]}),define("unit-m-weixin@latest/js/util/cache",[],function(e,t,i){function n(e){return e in a?a[e]:null}function r(e){return o?JSON.parse(localStorage.getItem(e)):null}var a={},o="localStorage"in window&&null!==window.localStorage,l={has:function(e){return e in a||o&&null!==localStorage.getItem(e)},get:function(e){return null!==n(e)?n(e):r(e)},set:function(e,t){a[e]=t,o&&localStorage.setItem(e,JSON.stringify(t))},remove:function(e){delete a[e],o&&localStorage.removeItem(e)}};i.exports=l},{asyncDeps:["iscroll@~5.0.9"]}),define("unit-m-weixin@latest/js/pages/orderdetail",["zepto-wepp@~1.1.0","underscore@~1.5.0","marionette@~1.4.0","../modules/orderdetail/orderinfo/controller","wepp@~2.7.0","../modules/orderdetail/layout.html"],function(e,t){var i=(e("zepto-wepp"),e("underscore")),n=e("marionette"),r=e("../modules/orderdetail/orderinfo/controller"),a=(e("wepp").Module.City,n.Controller.extend({show:function(t){var n=new r(t);ThisApp.openPage().then(function(t){t.initRegion({template:i.template(e("../modules/orderdetail/layout.html")),regions:{content:".J_ordercontent"}}),n.render(t.layout.content)},function(e){n.render(e.layout.content)})}}));t.Controller=a},{asyncDeps:["iscroll@~5.0.9"]});