define("hippo@latest/hippo2",[],function(t,n,e){"use strict";!function(){function t(t,e,o){var r=L;r=/\.dianping\.com/.test(location.domain)?"http://hls.dianping.com"+r:"http://hls.51ping.com"+r;var i=A(t,e,o),c=new Image(1,1);g.push(c),c.src=r+i,n(c)}function n(t){["onload","onerror","onabort"].forEach(function(n){t[n]=function(){t.onload=t.onerror=t.onabort=null,"onabort"===n&&i(t),o(t)}})}function o(t){for(var n,e=0,o=g.length;o>e;e++)if(n=g[e],n===t){g.splice(e,1);break}}function r(){return new XMLHttpRequest}function i(t){var n=t.src,e=y();e.open("GET",n,!1),e.send()}function c(t){var n,e,o=encodeURIComponent,r=[];for(n in t)e=t[n],Object(e)!==e&&r.push(n+"="+o(e||""));return r.join("&")}function a(t,n,e){var o;if(n){for(o in n)e&&o in t||(t[o]=n[o]);return t}}function u(t,n){return"string"==typeof t&&Object(n)!==n}function f(t){return U._setPageId(t),f}function s(t,n){z[t]=n}function p(n){t(M,[],n||G),G={}}function d(t,n){return t>0?t:n}function h(){B=+new Date}function _(){var t,n=v.performance,e=n&&n.timing,o=B-F,r=+new Date-F,i={r_pagetiming:1,r_ready:o,r_load:r};e&&a(i,{r_conn:e.connectEnd-e.connectStart,r_recev:e.responseEnd-e.responseStart,r_ready:d(e.domInteractive-e.domLoading,o),r_wait:e.responseStart-e.requestStart,r_load:d(e.loadEventStart-e.domLoading,r)}),((t=J)||(t=v.DP&&DP.data&&DP.data("hippo_perf_version")))&&(i.test=t),U.mv(i),Z(v,"load",_)}function l(t){if("complete"===E.readyState)return t();var n=E.documentElement.doScroll,e=n?"readystatechange":"DOMContentLoaded",o=function(){Z(E,e,o),Z(v,"load",o),t()};if(Y(E,e,o),Y(v,"load",o),n){var r=function(){try{n("left"),o()}catch(t){setTimeout(r,10)}},i=!1;try{i=null==v.frameElement}catch(c){}i&&r()}}var v=window,m=v._hip;m||(m=v._hip=[]);var g=[],y=v.ActiveXObject?function(){if(v.XMLHttpRequest)try{return r()}catch(t){}try{return new v.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}:r;v.onbeforeunload=function(){g.forEach(i)};var E=v.document,w=E.location,P=E.referrer,b=w.href,D=v.screen,I=0,S=0,j=0,O="www.dianping.com",T=function(){},L="/hippo.gif?",x="__hsr",C="__hsc",V="__hlh",q="__hlr",M="__pv",R="__mv",X=function(){return v.JSON&&JSON.stringify||function(t){var n,e,o=[];for(n in t)e=t[n],Object(e)!==e&&o.push('"'+n+'":"'+(""+e).replace(/"/g,'\\"')+'"');return"{"+o.join(",")+"}"}}(),H=Array.prototype;H.forEach||(H.forEach=function(t,n){for(var e=0,o=this.length;o>e;e++)e in this&&t.call(n,this[e],e,this)});var A=function(){var t,n,e,o,r={};return(e=D)&&(t=e.height,n=e.width,t&&n&&(r[x]=n+"x"+t),(o=e.colorDepth)&&(r[C]=o+"bit")),function(t,n,e){e=e||{},a(e,z,!1);var o={__hlt:O,__ppp:I,__had:X(e),force:+new Date};return a(o,r),b&&(o[V]=b),P&&(o[q]=P),n.push(j+"|"+S),o[t]=n.join("|"),c(o)}}(),G={};a(f,{ext:function(t,n){var e;if(Object(t)===t)for(e in t)f.ext(e,t[e]);else u(t,n)&&(G[t]=n);return f},rxt:function(t){return"string"==typeof t?delete G[t]:arguments.length||(G={}),f},pv:function(t,n){return U._setCityId(t),U._setShopType(n),U._setPVInitData(G),f},mv:function(t,n){return u(t,n)&&(G[t]=n,U.mv(G)),f}}),document.hippo=f;var J,N=!0,k=!0,U={_setPageId:function(t){I=t>>>0},_setCityId:function(t){j=t>>>0},_setShopType:function(t){S=t>>>0},_setPVInitData:function(t){U._setPVInitData=T,setTimeout(function(){p(t)},0)},_autoPV:function(t){N=t},_autoPageTiming:function(t){k=t},_setPageTimingVer:function(t){J=t},_setReferrer:function(t){P=t},_setHref:function(t){b=t},_setRequestId:function(t){s("reqid",t)},_setGuid:function(t){s("serverguid",t)},_setCustomConst:s,mv:function(n){t(R,["",""],n||G),G={}},pv:function(t){p(t)}},z={};m.push=function(t){var n,e;t&&(n=t.shift(),e=U[n],e&&e.apply(null,t))},m.forEach(function(t){m.push(t)}),N&&m.push(["_setPVInitData"]),m.length=0;var B,F=v.G_rtop,K=E.createElement("div"),Q="addEventListener",W="removeEventListener",Y=K[Q]?function(t,n,e,o){t[Q](n,e,!!o)}:function(t,n,e){t.attachEvent("on"+n,e)},Z=K[W]?function(t,n,e,o){t[W](n,e,!!o)}:function(t,n,e){t.detachEvent("on"+n,e)};k&&(l(h),Y(v,"load",_)),"undefined"!=typeof e&&e.exports&&(e.exports=m)}()},{main:!0});